language: java
jdk:
- oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_deploy:
- export GRADLE_BUILD_DIR="build/libs"
- export TAG=$(git describe --abbrev=0 --tags)
- export MOD_TAG=${TAG#"v"}
- export RELEASE_PKG_FILE="${GRADLE_BUILD_DIR}/GEOframeUtils-${MOD_TAG}.jar"
- echo "deploying $RELEASE_PKG_FILE to GitHub releases"
- gradle -PprojVersion=$MOD_TAG -PnexusUsername="${SONATYPE_USERNAME}" -PnexusPassword="${SONATYPE_PASSWORD}"
  -PbintrayUsername="${BINTRAY_USERNAME}" -PbintrayApiKey="${BINTRAY_KEY}" -PbintrayPassphrase="${PASSPHRASE}"
  bintrayUpload
deploy:
  provider: releases
  api_key:
    secure: AZ3Ym1toWiI//pO4L9o2zria6op27mRxEwu/VRZv+AVT3dBpqhZM0yaeuA70ky0NSobIK4d+Utu3JkyuflWt+Kz4oNn7U06SIxfuz/wHdqy0zwtLqAIWIdcMWGGVGuiivhXde1cQil+wL4Jbhd12PrrE5H6BIf3HYTL+9QFRL5lH3f9puUAsSpat6WHuQFgLkg9PPPAj5J3oYmS5+cn0CHa4QiT0sYvGU2L+LuXVfBz64elVQ+yG2+3ChWXL/1z+9ygUlnQ127G6WMFYjOt0Qt2QYXH26OzujOTp1o6RYdhOorRP65QyXc0JBvl5eZahHW13EJ7Au+IUCqUoVfrHrZTlQDWyCklyRr1thwcKCl0u8VUGhe8AeEiz359n+Tf57jxi0F/Yf3y2GSpUxzIKL5cwzzEde6xwk2Hwi5m7U1vijCcnBVwGU6cwZeel5ttxp76L8162Tf5s945h9Z7d+81KujPwnts/FlwcaFXomX8FvneTPwcGKuWc7BRgghZoyUYyzQuzmzFsK543HpB1ntwY0bbROD8HrhwRGuvlID4JCOFBJ5wyZndvbfuQMr4I7HPnmNN94C2wqg9xD8jDcAC5C+fsvJ5e4Ywyj84d86qgXBRPwm1CyttUdkUunkB6JUpMNK+TR9gaXPPPGMfzQE3kz2nd3wArWcn/uvHRtv8=
  file: "${RELEASE_PKG_FILE}"
  skip_cleanup: true
  on:
    tags: true
    all_branches: true
    repo: geoframecomponents/jswmm
env:
  global:
  - secure: IWPJY0XJvsfOv9lsx2wx5J9osqILr+zb3+qTBtKDiWpFGNp1gkcFqlare6ettj8gZ/CyOLB0x1ue16LVWeCLWvKnLl8+hgHDHlbqoiFLBcVGf5Co4+H+JPkv+YWKI+5kaS4Hk86FD8MysGWgAXf5QlTb2LT3+WhsRQcLL9rcWPoveY4pyj3loxIyPFdQ3VPr+HBqsL35UXqmwi3EUxmSzwzcdByegGjoXt10Ma/+6x33Q74o7m1/TMzFGK1hMRpCSm9jXaGbi7q92v6UadPCFWOzAINHu6QV2I96YGJTS4ZPFTSRQG6KaTeEYCaMCkKyrtvE9k+JJcY8y3IpK4t9qbTHQWY8JCFdoz0MnQd44/31dE/qQFoDa4trunoch9Gxxr6/yre0ADHgass4nAZypnvR62DvJlh7YsmZ7Pm21zoSiUs5J71t7BM5Kvf/nAQjh7doJfFanw8tJdU+jKH8bhPWiro66/c6CM0y+h/ea0AsWBN2sSUaT7Posa7KjncqUc0Mj185uYqXn6HJBRl3yU6TQS0hXe8UK00JxKlXOVHqfEipamzo4Bwhg0QnKw8+6ZIL4UPf2mnYAbD1oTAywg5Auk+D+dqUrUurS1iRZkRWhS3uDcJ8IAoD0LVe+f/UEYlNmOy5vH5P5QdgM6LeUEQq6N890ZAQodBsszEmiYI=
  - secure: R4KWQOX8C+GCNFBQPRcUO/PNzz1p3yVeLCJA5QYgxu8+AMoOnEmZJFx1q0gZQU4p/oaNTNTphMe4JrxyOTr+gwFFQfbJVrBWNHiZkcuVVxumEK1VtSV3QP9QWku9F+G5QosiValdnWR8mDW2NwD6vjriT/LY8VtmU3qtCSRHaQ/97Qbp51yPYxmkQSv65iwBqRPaeM59Crc4gevV4w4H/2fF7riS9QFMmajQYFoN9HhAoOueqBVYp454nuiTZcD/ansB+mBAQQgSJMcWPF1t9p9Cpo9BV1YsaDnBrHpRs/gaDOb9/Ib7FXAgd51jvVTY0rhaXw34u/UED8VBA6kPwZSoy0Vxgp8tTEDVqHa9LO0FxsVmjTQX56c5cxNzlWdJCWhrnC0SUuVpuNrq5ai6CdS5hanzKBBiJnGEI6KlJ7XyWSaW+Sgst+5WrsrRar3hUNZLe1B6YGqnoi4NqqaMuUgzX44JKqFgBV44cN1lCkV8znNeKIYgljC4M5n3A4hn1h+nggBrbYxxAA6S5g2/bHVr+8fLCg2rowuzSNNSCw0A+tChpkCgIBU372AYyD1icxTyNgCPvuMTyLXHEesXNJ+ERYdjHuyCzb7STpvIYxnQhxovpXRb832lttvYaYliI/kNjG8YaZX0vDIobuVGch0xWxBWjsMXLR3FlBuJoa4=
  - secure: PLY5DYy8jlCPUHEPW8evO2tUC8n7NusVfdB26go2JYvHNo99oH/Lfa6pByMZ/ghckYrgJ+n2z8pjYM0eJtfWci6crSo8CnsKMyXbBBT0W6/iE3hnUmiDAHHt9OkChXgvlmp4z4DMD86gUiibbZHmC2vMfbrCdHEh4+OyLPcybFBIcrS1RtO4JHQN03hoYAZ9hg9NbIQenGcHYpMEZMVYVtDFQXeNoQeInRsPRGTurfVI4p98ehktfdWSlw6gtGFeq6POabl3yCP1IuFa1D+T8Jv0BZe4CrDf0smcHiWU/AnwMp/3Q45Hcctb7fBK+YRKMwA84CON2f92YF0SRXmnf01fDKkwH09uwI8yVFDHDZx7ln//PohrMSkWkTVPadSI3+a2zsnuTXiPpMapSFbl+9qiN2luCGldvB5vCm75HFcrhCSKsQ1lZAi1qDHbBtqmhfe5Qts0ZmKHtP9xRO/cHPtz+gc2v9zqBZemBx8Oe5FCNLTE+Ei1L13U/biFO9leek401mDZvTh2rcJz4FSvuV+crbVbx+jtzSoHNBdHu7G7S8VtaHmHTs3Im/1zCz6uSWG4B+ArRes41j8ZVFHG55Ib97273Z4A+Z5Q+/rKBtaWQ+qUTP43h7xNgd2dN8XE7PfGZ54Tk058l/HeTzGhvJvxeLP315w+XEyRe0fmAmo=
  - secure: dsflKj+fP/zlOpg0KLNb0JbOs18QSaCzHN5m6DHEAQVmdPAV4ItrqmycY/hkG4oS4K3LfsN8vJTWrbkSl6ox7onqrTu8hoL0gyZDZAmauzxT/Kh4s8YPyBur5MYaaP7jMVRf+1cxOAqEb8Y/FTy7/EnN2JOlg35p8cWpQUUph/tn5zh4DRmuBeGp4HM0bSpHWIzyT9yV9sRPy3ZaUYm/dMSAuAKGt8mKaKV69sBELDOaLbVhz6/8+yaV9FDS9DiT8Po7zHMXJdIWfdC7mcd+BhSJeLM3i4HKlMTSduyrOccuDWjd25+s7kDubKmCSP7N/m1yT0sZWCVT3ccYO1E3J/1ZfLhw1XifYxCH5Lqt/9PtrcXcHOfvGndPH2/iKfMG8OR99lIzsstfs6wkkp8s5QSi1zdGUA6yKJjnr7IMAVQiBazHlagGmDVu1YnIKewIMljqsq3WPoIDDDZqFYEwyFadHK8v95lrqmaz0y8oy7V/Ex8jp6yfkNXvoCTQfITlIrQ8/weQ5FjiA7KLpKW2p4xSfNxH/IW4InIie6KAk8JMKcxrEYNOsu+X4NVSEVSxp/qs66rSOsOVGHE7lijgKCYVqAic43nDd80q7ZmiZAsXdvXU2hmsa9OSjAg0FuanYC/E9jAlaV1q2pon06L5HkFqzQVrveasaBSKckMgDos=
  - secure: ci2ZxHcIwSREoAgKTsFouUoJRlh1n+3DxfM7K24W5LZKVW8cQbewiIpd81ax4uG/+5fDqKptWTyy1B50r7/6bqv5XwK11qiem4EPTElJoW8XZNeIgIJoDUlBuqblVHTCqBVCRE45ibNvwr07wrVNq9P1ucjCpeDb1liRUzyg+35oXTkDCBCJ2HBdx9T/hyNOOaR0glezwyUDXcfBHC5ll9TCM3GPEzlZ9D4tnYFCvUcqW50A5u9pySB76+9gvNpydzwdH192D3NkhBwGA6FM3iuHiP5aTIu3bioM9IdbrHVikMNaJ3r3lOnI57mxQ2DMMcXNpgCpiNjhafub4QS+5sDgR0OCcZV/KJwkw8bZu2ts0MRiS/D0zmB1FWMVy58083Rgt4R+IGf8BLDvHIqwo811/pxmhiFy5BjcV1Zr2pSNlE2xJDqeS6ko44bS5uVcoP7aclNC5LcNHhLOxo7UK9Cmpbm3tCJy+hA2X+hMKWmw1KQZpiFdtEzucKBdDSYxOKcdhhBN8UmZJva9bE+rvWi0+eC+rj4neIe4/LIyEJ7jmO5+c38/rykjJIUArRxX91nVGoDPPJUagkKXwih8Jx3AzPX1FxO/ilXrlaaGymXRX+pebvaS+6LV8Ry4UXiM2pE0gk9oqrnDaY2/+lvAWDZ5t5FKgWzsXp090vSvdSU=
